<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;
      charset=utf-8">
	<script type="text/javascript" src="jquery.min.js"> </script>
	<script type="text/javascript" src="ttak.js"> </script>
</script>
    <title></title>
  </head>
  <body>
    <h2>&#2965;&#3007;&#2992;&#2984;&#3021;&#2980;&#2970;&#3021; &#2970;&#3018;&#2994;&#3021;&#2994;&#3016; &#2951;&#2969;&#3021;&#2965;&#3009; &#2951;&#2975;&#3009;&#2969;&#3021;&#2965;&#2995;&#3021;</h2>
    <textarea id="kirantha_word" rows="4" cols="50">மாலா
</textarea>

<button onclick="get_letters2()">Click</button>


    <h2>&#2980;&#2990;&#3007;&#2996;&#3021;&#2970;&#3021; &#2970;&#3018;&#2994;&#3021;&#2994;&#3016; &#2951;&#2969;&#3021;&#2965;&#3009; &#2986;&#3006;&#2992;&#3009;&#2969;&#3021;&#2965;&#2995;&#3021;</h2>
    <textarea id="tamil_word" rows="4" cols="50">&#2980;&#2990;&#3007;&#2996;&#3021;&#2970;&#3021; &#2970;&#3018;&#2994;&#3021;
</textarea>

<div id = "kirantha_test">

</div>

<button onclick="run_test()">Test</button>

<script>
	
function run_test()
{
	var result = "";
	var testWords = ["ர்ஷபம் ",
	"மிர்கம்","நாஹம்","ஹாக்கி", "பங்கஜம்",
	"ஷங்கரன்", "தேஷம்", "பாஷம்",
	"ஷண்முகம்","விஷம்","ஷாஷி",
	"ஸபை","மாஸம்","ஹரன்",
	"பக்ஷம்","க்ஷூரம்","மாலா","சபா",
	"மக்ஷு","ரங்கன்","ராமன்","ரோமம்",
	"லாபம்","லோபம்","வார்த்தா",
	"சுக்லம்","வக்ரம்", "பத்மம்", "பக்வம்",
	"ரத்நம்", "அர்த்தம்", "சக்தி","ஜின",
	"ஜைன", "ஜீவன்", "அஜீரணம்", "காளைராஜன்",
	"ராஜன்", "லக்ஷணம்", "லோஹம்", "ஹோமம்",
	"சபாஷ்", "ராக்ஷஸன்", "பாஷை", "ராஹம்", "ரோஷம்",
	"ராஜா", "புஷ்கர்"
	];
	
	for(test_count = 0; test_count < testWords.length; test_count++)
	{
		result += testWords[test_count] + ": " + kirantham_nekki(testWords[test_count]) + "<br/>";
	}
	
	$("#kirantha_test").html(result);
}	
	
function get_letters2()
{

	var word = $("#kirantha_word").val().trim();
	$("#tamil_word").val(kirantham_nekki(word));

}

function ChangetToTamil()
{

var input = $("#kirantha_word").val().trim(); 


	input = input
		.replace("ஸ்ரீ", "திரு")
		.replace("க்ல", "க்கில")
		.replace("க்ர", "க்கிர")
		.replace("்ம", "ும")
		.replace("்வ", "ுவ");

		

	var input1 = input;
	var lastChar = ' ',
	nextChar = ' ',
	curChar = ' ';
	var CharIndex = 0,
		lastIndex = 0,
		nextIndex = 0;
	try
	{
		//log.Info("692018125837PM1 started");
		//string FinalString = "";
		for (CharIndex = 0; CharIndex < input.length; CharIndex++)
		{
			lastIndex = CharIndex - 1;
			nextIndex = CharIndex + 1;
			if (lastIndex >= 0)
			{
				lastChar = input[lastIndex];
			}
			//if (CharIndex)
			//{
			curChar = input[CharIndex];
			//}
			if (nextIndex < input.length)
			{
				nextChar = input[nextIndex];
			}
			else
			{
				nextChar = ' ';
			}

			var theWholeString = "" + lastChar + curChar + nextChar;


alert (curChar + " " +CharIndex + (input1.length - 1));
			if (CharIndex == 0)
			{
				if (theWholeString == " ர்")
				{
					input1 = input1.replace(input1.substring(0, 2),
					   "இ");
				}
				else if ((theWholeString == " ஷா" ||
				   theWholeString == " ஸா"))
				{
					input1 = input1.replace(input1.substring(0, 2),
					   "சா");
				}
				else if ((input1.substring(0, 3) == "க்ஷ"))
				{
					input1 = input1.replace(input1.substring(0, 3),
					   "க");
				}
				else if ((input[CharIndex] == 'ஷ' ||
					input[CharIndex] == 'ஸ' ||
					input[CharIndex] == 'ஜ'))
				{
					if (input1.substring(0, 3) == "ஸ்வ"
						|| input1.substring(0, 3) == "ஷ்வ"
						)
					{
						input1 = input1.replace(input1.substring(0, 3),
						   "சுவ");
					}
					else if (input1.substring(0, 3) == "ஸ்த"
							|| input1.substring(0, 3) == "ஷ்த")
					{
						input1 = input1.replace(input1.substring(0, 3),
						   "த");
					}
					else if (input1.substring(0, 3) == "ஸ்க"
							|| input1.substring(0, 3) == "ஷ்க")
					{
						input1 = input1.replace(input1.substring(0, 3),
						   "க");
					}
					else if (input1.substring(0, 3) == "ஸ்ட"
							|| input1.substring(0, 3) == "ஷ்ட")
					{
						input1 = input1.replace(input1.substring(0, 3),
						   "ச");
					}
					else if (input1.substring(0, 3) == "ஸ்ப"
							|| input1.substring(0, 3) == "ஷ்ப")
					{
						input1 = input1.replace(input1.substring(0, 3),
						   "ப");
					}
					else
					{
						input1 = input1.replace(input1.substring(0, 1),
						   "ச");
					}
				}
				else if ((input[CharIndex] == 'ஹ'))
				{
					if (input1.substring(0, 2) == ("ஹௌ"))
					{

						input1 = input1.replace(input1.substring(0, 2), "ஔ");
					}
					// .replace("ஹோ", "ஓ")
					else if (input1.substring(0, 2) == ("ஹோ"))
					{

						input1 = input1.replace(input1.substring(0, 2), "ஓ");
					}
					// .replace("ஹொ", "ஒ")
					else if (input1.substring(0, 2) == ("ஹொ"))
					{

						input1 = input1.replace(input1.substring(0, 2), "ஒ");
					}
					// .replace("ஹை", "ஐ")
					else if (input1.substring(0, 2) == ("ஹை"))
					{

						input1 = input1.replace(input1.substring(0, 2), "ஐ");
					}
					// .replace("ஹே", "ஏ")
					else if (input1.substring(0, 2) == ("ஹே"))
					{

						input1 = input1.replace(input1.substring(0, 2), "ஏ");
					}
					// .replace("ஹே", "எ")
					else if (input1.substring(0, 2) == ("ஹே"))
					{

						input1 = input1.replace(input1.substring(0, 2), "எ");
					}
					// .replace("ஹூ", "ஊ")
					else if (input1.substring(0, 2) == ("ஹூ"))
					{

						input1 = input1.replace(input1.substring(0, 2), "ஊ");
					}
					// .replace("ஹு", "உ")
					else if (input1.substring(0, 2) == ("ஹு"))
					{

						input1 = input1.replace(input1.substring(0, 2), "உ");
					}
					// .replace("ஹீ", "ஈ")
					else if (input1.substring(0, 2) == ("ஹீ"))
					{
						input1 = input1.replace(input1.substring(0, 2), "ஈ");
					}
					// .replace("ஹி", "இ")
					else if (input1.substring(0, 2) == ("ஹி"))
					{

						input1 = input1.replace(input1.substring(0, 2), "இ");
					}
					// .replace("ஹா", "ஆ")
					else if (input1.substring(0, 2) == ("ஹா"))
					{

						input1 = input1.replace(input1.substring(0, 2), "ஆ");
					}
					//.replace("ஹ", "அ")
					else
					{
						input1 = input1.replace(input1.substring(0, 1),
						 "அ");
					}
				}
				else if ((theWholeString == " ரொ"))
				{
					input1 = input1.replace(input1.substring(0, 2),
					   "உரொ");
				}
				else if ((theWholeString == " ரோ"))
				{
					input1 = input1.replace(input1.substring(0, 2),
					   "உரோ");
				}
				else if ((theWholeString == " ரி"))
				{
					input1 = input1.replace(input1.substring(0, 2),
					   "இ");
				}
				else if ((theWholeString == " ரா"))
				{
					input1 = input1.replace(input1.substring(0, 2),
					   "இரா");
				}
				else if ((input[CharIndex] == 'ர'))
				{
					input1 = input1.replace(input1.substring(0, 1),
					   "அர");
				}
				//--------------------
				else if ((theWholeString == " லொ"))
				{
					input1 = input1.replace(input1.substring(0, 2),
					   "உலொ");
				}
				else if ((theWholeString == " லோ"))
				{
					input1 = input1.replace(input1.substring(0, 2),
					   "உலோ");
				}
				else if ((theWholeString == " லி"))
				{
					input1 = input1.replace(input1.substring(0, 2),
					   "இலி");
				}
				else if ((theWholeString == " லா"))
				{
					input1 = input1.replace(input1.substring(0, 2),
					   "இலா");
				}
				else if ((input[CharIndex] == 'ல'))
				{
					input1 = input1.replace(input1.substring(0, 1),
					   "அல");
				}
			}
			else if (CharIndex == input1.length - 1 && input1[CharIndex] == 'ா')
			{
				//Last character check
				input1 = input1.substring(0, (CharIndex))
					+ "ை";
			}
			else if (CharIndex == input1.length - 1 && input1[CharIndex] == 'ஜ')
			{
				//Last character check
				input1 = input1.substring(0, (CharIndex))
					+ "ச";
			}
			else if (CharIndex == 2 && theWholeString == "ிர்")
			{
				//input1 = input[CharIndex];
				input1 = input1.replace(input1.substring(0, 4),
					input1.substring(0, 3) + "ு");
			}
			else
			{
				input1 = input1
					.replace("க்ஷ", "க்க")
					.replace("ஜ", "ய")
					.replace("ஷ", "ட")
					.replace("ஸ", "ச")
					.replace("ஹ", "க")
					.replace("்ந", "ன")
					;
			}

			//MessageBox.Show("CharIndex: " 
			//+ CharIndex + ", " 
			//+ theWholeString + ":: \nlastChar: " 
			//+ lastChar
			//    + "\n curChar: " + curChar
			//    + "\n nextChar: " + nextChar);
		}

		//log.Info("692018125837PM2 end");
	}
	catch (err)
	{
		//log.Error(string.Format("692018125837PM3 {0}", ex.Message));
		alert(err.message);
	}
	finally
	{
		//log.Info("692018125837PM4 Process is done.");
	}
	$("#tamil_word").val(input1);
}

</script>
  </body>
</html>
  </body>
</html>
